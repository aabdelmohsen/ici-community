{% extends "main.html" %}
{% block title %} All Players {% endblock %}
{% block content %}

<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li>
        <img src="https://irvingmasjid.org/wp-content/uploads/2021/05/cropped-ICI-Logo.png" width="100" height="50" class="d-inline-block align-top" alt="">
      </li>
      <li class="nav-item">
        &emsp;&emsp;&emsp;
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/">ICI Registration</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/scanner">ICI Scanner</a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="/player_list">All Players</a>
      </li>
    </ul>
  </div>
</nav>

<div class="container">
    <h2>All Players</h2>
    <h5>Total count is: {{ object_list.count }}</h5>
    <input class="form-control" id="myInput" type="text" placeholder="Search..">
    <br>
    <table class="table table-bordered table-striped">
      <thead>
        <tr>
          <th>ID</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Mobile</th>
          <th>Photo</th>
          <th>QR Code</th>
        </tr>
      </thead>
      <tbody id="myTable">
        {% for player in object_list %}
            <tr>
                <td>{{ player.id }}</td>
                <td>{{ player.first_name }}</td>
                <td>{{ player.last_name }}</td>
                <td>{{ player.mobile }}</td>
                <td><a href="https://storage.googleapis.com/ici_community/{{ player.profile_picture }}" target="_blank" class="badge badge-info">View</a></td>
                <td> <a href="/getqrcode/{{ player.id }}" target="_blank" class="badge badge-info">Generate</a> </td>
            </tr>
        {% endfor %}
       
      </tbody>
    </table>
    </div>
  
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <script>
  $(document).ready(function(){
    $("#myInput").on("keyup", function() {
      var value = $(this).val().toLowerCase();
      $("#myTable tr").filter(function() {
        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
      });
    });
  });
  </script>
  
  {% endblock %}